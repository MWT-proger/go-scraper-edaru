# Парсинг сайта eda.ru


## Содержание
- [Технологии](#технологии)
- [Использование](#использование)
- [Команда проекта](#команда-проекта)

## Технологии
- Postgres
- Go

## Использование
Краткое руководство по запуску и установки проекта

### Подготовте БД для использования (2 варианта):

1. #### Установить локально на ПК смотрите инструкцию в  интернете
2. #### Запустить в Docker контейнере

- Установите docker и docker-compose на свой компьютер

- создайте env file, заполните его необходимой информацией

```sh
cp deployments/example.env deployments/.env
```

- из каталога deployments запустите в командной строке команду

*Если есть make на компьютере*

```sh
make db_up
```
*Если нет*

```sh
make docker-compose --env-file .env  up
```

### Запустите Парсер

#### Возможные параметры парсера
1. -d строка с адресом подключения к БД

Пример:
```sh
-d="host=localhost port=5433 user=postgres password=postgres dbname=postgresDBScraper sslmode=disable"
```

2. (Необязательный) -l уровень логирования

Пример:
```sh
-l=info
```
По умолчанию:
```sh
-l=info
```

3. (Необязательный) -p путь каталога для сохранения файлов

*Важно* в указанной папке должна быть создана папка с именем recepties

Пример:
```sh
-p=data
```
По умолчанию:
```sh
-p=data
```

4. (Необязательный) -s Путь к файлу сценария парсинга

Пример:
```sh
-s=scenario.json
```
Пример содержимого файла (1 вкл, 0 - выкл)
```json
{
    "ingredients" : 0,
    "sub_ingredients" : 0,
    "categories" : 1,
    "recipes" : 1,
    "file_recipes" : 1
}

```



По умолчанию запускаются все под парсеры

#### Запуск

```sh
go run ./cmd -d="host=localhost port=5433 user=postgres password=postgres dbname=postgresDBScraper sslmode=disable"
```

## Команда проекта


- [Андрей Белов](https://t.me/MWTechnolog) — Бэкенд разработчик
